@model List<ProjectManagementSystem.Models.Report>

@{
    ViewBag.Title = "Index";
}

@Html.Partial("_Navbar")

<style>
    .report-body{
        margin: auto;
        text-align: center;
    }

    .inner-report-body{
        display: inline;
        text-align: center;
        margin: auto;
    }

    .parameter-title{
        width: auto;
    }

</style>

<div class="report-body">

    <h1>Report Parameters</h1>

    <div class="inner-report-body">
        
            <span class="parameter-title">Year:</span>
            <select id="yearSelect" name="yearSelect">
                @{
                    foreach (var opt1 in Model)
                    {
                        <option>@opt1.year</option>
                    }

                }
            </select>

            <span class="parameter-title">Quarter:</span class="parameter-title">
            <select id="quarterSelect" name="quarterSelect">
                @{
                    foreach (var opt2 in Model)
                    {
                        <option>@opt2.inQuarter</option>
                    }

                }
            </select>

            <span class="parameter-title">Division:</span>
            <select id="divSelect" name="divSelect">
                @{
                    foreach (var opt3 in Model)
                    {
                        <option>@opt3.division</option>
                    }

                }
            </select>

            <input type="submit" id="submit" name="submit"/>
   

    </div>
</div>

@section scripts{

<script>
        $(document).ready(function () {
            $('#submit').click(function () {
                var y = $("#yearSelect").find(":selected").text();
                var q = $("#quarterSelect").find(":selected").text();
                var d = $("#divSelect").find(":selected").text();

                var url = '@Url.Action("DisplayReport", "PMReports")';
                url = url + '?year=' + y + '&quarter=' + q + '&division=' + d;

                window.location.href = url;
            });
        });
</script>

}



